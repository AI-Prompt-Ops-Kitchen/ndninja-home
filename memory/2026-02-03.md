# 2026-02-03 Session Notes

## ðŸŽ¬ MTG Secret Lair Video â€” COMPLETED (v7)

### Final Output
- **Video:** `output/ninja_mtg_v7_final.mp4` (captioned)
- **Thumbnail:** `output/ninja_mtg_v7_thumbnail_v2.png` (style-matched)
- **Script:** `scripts/templates/mtg_secret_lair_v7.txt`
- **Full backup:** `backups/mtg_pipeline_v7_2026-02-03/`

### Pipeline Steps (Working Config)
1. **TTS:** ElevenLabs voice clone `pDrEFcc78kuc76ECGkU8`, model `eleven_multilingual_v2`, stability 0.5, similarity 0.75
2. **Pad audio:** `ffmpeg -i raw.mp3 -af "adelay=500|500" -c:a libmp3lame padded.mp3` (0.5s padding prevents first words being cut off)
3. **Kling Avatar:** `fal-ai/kling-video/ai-avatar/v2/standard` with `assets/ninja_avatar.jpg`
4. **Captions:** `ninja_captions.py --style animated` (Whisper word-level timestamps)
5. **Thumbnail:** `ninja_thumbnail.py` with Gemini `gemini-2.5-flash-image` using style references

### Script Evolution (v1â†’v7)
Key changes user drove:
- Added "What's up fellow ninjas!" greeting + "In this video I'm going to give a quick update on..."
- "Secret Lair drop" (correct product name) instead of "Secret Lair cards with identical card sets"
- "trading card game" instead of "TCG" (accessibility for casual viewers)
- "Wizards of the Coast" instead of "Magic" when referring to the company's decisions
- Better outro: "What's your breaking point with Magic the Gathering? Drop a comment below to let me know. I'll see you guys in the next video."

### Thumbnail Style References (SAVED)
- `assets/reference/ninja_thumbnail_style.jpg` â€” OpenClaw thumbnail (character reference)
- `assets/reference/ninja_thumb_example_openclaw.jpg` â€” OpenClaw example
- Sonos Super Bowl Sale thumbnail â€” shown inline
- **Style:** Pixar/Incredibles proportions (NOT chibi), bold text overlays, dark blue/black bg, blue+orange neon accents, ninja interacting with topic

### Issues Encountered
- **Process kills:** Long-running Kling jobs got SIGKILL'd â€” caused by ffmpeg concat creating 430MB uncompressed audio file (fixed with adelay filter instead)
- **Session compaction:** Lost track of completed Kling renders multiple times â€” need standalone watcher script
- **Notification gap:** User waited 40+ min for a video that was already done â€” MUST build auto-notification
- **Thumbnail regression:** Generated chibi style instead of established Pixar/tactical style â€” now have reference images saved

### TODO
- [ ] Build standalone watcher script for Kling renders (auto-caption + auto-send)
- [ ] Update `ninja_content.py` to use reference thumbnails by default
- [ ] Consider integrating all manual steps back into `ninja_content.py --auto`

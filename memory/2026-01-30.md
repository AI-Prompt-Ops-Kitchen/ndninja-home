# 2026-01-30 Session Notes

## News Pipeline Work

### Fixed Issues
1. **Veo prompt for news anchor** — Updated to keep head still, eyes locked on camera, no turning
2. **Whisper word-sync captions** — Restored Instagram Reels-style word-by-word highlighting
3. **Audio static** — Fixed by replacing `anullsrc+concat` padding with `adelay` filter

### Reference Image
- Saved 3D ninja news anchor to `assets/reference/ninja_news_anchor.jpg`
- Added to PINNED.md for persistence

### Command
```bash
ninja_content.py --image assets/reference/ninja_news_anchor.jpg --no-music --script "..."
```

### Commits
- `047865a` fix: restore Whisper word-sync captions, update Veo prompt for news anchor
- `600d89d` fix: audio padding uses adelay filter to prevent static artifacts
- `2b0f6e6` feat: thumbnail --reference and --both flags for A/B testing
- `4dc5270` feat: youtube thumbnail rotator for A/B testing + cron job

## YouTube Thumbnail A/B Testing
- Added `--both` flag to generate Pixar + news anchor thumbnails
- Created `youtube_thumbnail_rotator.py` for rotating thumbnails every 48h
- Cron job added: `0 */6 * * *` checks if rotation is due
- Commands: `--register VIDEO_ID --thumbnails t1.png t2.png`, `--rotate`, `--list`

## Full Test: Project Genie 3 News Segment
- Generated from Mashable article about Google Project Genie 3
- 35s video with B-roll cutaways (4 Veo-generated clips)
- Output: `output/genie3_news_broll_20260130_011620.mp4`

## TODO: Optimal Posting Time
User requested auto-scheduling for optimal YouTube posting times (Thu-Fri 2-4 PM, Sat 9-11 AM EST). Add `--schedule optimal` flag to youtube upload.

## CapCut Skill Created
Built a CapCut automation skill using [CapCutAPI](https://github.com/sun-guannan/CapCutAPI):

### Setup
- Cloned to `/home/ndninja/projects/capcut-api`
- Python venv with Flask REST API on port 9000
- Creates CapCut draft files that can be opened in CapCut for final review

### Skill Files
- `skills/capcut/SKILL.md` — Main skill docs
- `skills/capcut/scripts/capcut_compose.py` — Ninja pipeline integration

### Capabilities
- Create 9:16 vertical drafts
- Add video tracks with looping (smooth dissolve on loop points)
- Add B-roll clips with transitions
- Add audio (TTS voice)
- Add subtitles (SRT)
- Drafts export to CapCut for final review before render

### Start Server
```bash
cd /home/ndninja/projects/capcut-api && source venv/bin/activate
nohup python capcut_server.py > /tmp/capcut_server.log 2>&1 &
```

### Tested
✅ Draft creation works (returns draft_id)

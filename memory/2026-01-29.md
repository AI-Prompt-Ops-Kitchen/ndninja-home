# 2026-01-29 Session Notes

## ðŸŽ¯ Main Work: Ninja Content Pipeline B-Roll

### Fixes Applied
- **Audio distortion fix**: Compositor was mixing segments WITH and WITHOUT audio, causing glitches. Fixed by keeping original audio as WAV (lossless), stripping audio from ALL video segments, then cleanly re-attaching at the end
- **B-roll prompts**: Added "no text, no logos, no writing" to ALL prompts - Veo was generating gibberish text
- **Clip count**: Changed default from 3 to 4 B-roll clips
- **Freeze detection**: Compositor now detects freeze frames in main video and places B-roll at those points

### New Scripts Created
- `scripts/local_broll_setup.py` â€” Setup CogVideoX/SVD on local GPU
- `scripts/ninja_broll_local.py` â€” Generate B-roll locally with RTX 4090

### Test Videos
- Samsung HBM4 script used for testing
- v1: B-roll had text/logos
- v2: Audio distorted
- v3: Should be fixed (sent for review)

## ðŸ† THE GOLDEN RULE (Established & Codified)
> **"If you CAN do it, you SHOULD do it."**
> No delegation when you have the tools. Act first, report results.

Added to AGENTS.md and memory/PINNED.md as non-negotiable.

## ðŸ”§ In Progress
- Setting up remote access to user's RTX 4090 machine
- Need: hostname/IP, SSH access
- Goal: Trigger local GPU generation from this server

## ðŸŽ‰ CogVideoX LOCAL GENERATION SUCCESS!
- **CogVideoX 5B-I2V** now working on Vengeance (RTX 4090)
- Test generation completed: ~2min per clip, 50 inference steps
- Output: 720x480, 49 frames
- Saved to: `~/broll_test/broll_1.mp4`
- **Cost: $0** (vs ~$0.03 per Veo clip)
- **No rate limits** â€” unlimited local generation

### Local Gen Benefits Confirmed
- No rate limits
- ~2min generation (comparable to Veo queue time)
- Free (just electricity)
- Privacy (nothing leaves machine)
- Customizable (can tweak model params)

### Lip Sync Quality Discussion
User asked about improving lip sync. Options:
1. **MuseTalk** â€” Already installed on Vengeance! Best for testing next
2. **SadTalker** â€” Good quality, runs locally
3. **Wav2Lip** â€” Classic, fast, decent
4. **LivePortrait** â€” Newest, very good results
5. **Hedra** â€” Web-based but excellent

**Recommended local pipeline:**
- Main video: MuseTalk or LivePortrait (4090)
- B-roll: CogVideoX (4090)
- Voice: ElevenLabs (or local XTTS)

## ðŸ“‹ Open Items
- `clawd-dos`: Local B-roll generation with RTX 4090 âœ… WORKING
- Test MuseTalk for better lip sync (already installed)
- Awaiting feedback on v3 audio quality
- YouTube upload integration still pending
